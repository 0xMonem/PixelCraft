<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mech Heart</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000;
        }
        .container {
            width: 300px;
            height: 300px;
        }
        svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }
        .heart-shape {
            fill: none;
            stroke: #ff2a2a;
            stroke-width: 3;
            stroke-linecap: round;
            filter: drop-shadow(0 0 10px #ff0000);
            transform-origin: center;
            animation: heartbeat 1.2s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        .ecg-line {
            fill: none;
            stroke: #fff;
            stroke-width: 2;
            stroke-dasharray: 100;
            stroke-dashoffset: 100;
            animation: flatline 2s linear infinite;
        }
        .valve {
            fill: #444;
            stroke: #ff2a2a;
            stroke-width: 1;
            transform-origin: 50% 35%;
        }
        .valve-left {
            animation: valve-pump 1.2s infinite;
        }
        .valve-right {
            animation: valve-pump 1.2s infinite 0.1s;
        }
        .fluid-tube {
            fill: none;
            stroke: #ff2a2a;
            stroke-width: 6;
            opacity: 0.3;
        }
        .fluid-pulse {
            fill: none;
            stroke: #fff;
            stroke-width: 2;
            stroke-dasharray: 10 30;
            animation: flow 0.8s linear infinite;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.15); stroke: #ff5555; }
            28% { transform: scale(1); stroke: #ff2a2a; }
            42% { transform: scale(1.15); stroke: #ff5555; }
            70% { transform: scale(1); }
        }
        @keyframes flatline {
            0% { stroke-dashoffset: 100; opacity: 1; }
            50% { stroke-dashoffset: 0; opacity: 1; }
            51% { opacity: 0; }
            100% { opacity: 0; }
        }
        @keyframes valve-pump {
            0% { transform: scaleY(1); }
            20% { transform: scaleY(0.2); }
            40% { transform: scaleY(1); }
        }
        @keyframes flow {
            to { stroke-dashoffset: -40; }
        }
    </style>
</head>
<body>
    <div class="container">
        <svg viewBox="0 0 100 100">
            <!-- Background Pipes -->
            <path class="fluid-tube" d="M20,30 L50,50 L80,30" />
            <path class="fluid-pulse" d="M20,30 L50,50 L80,30" />

            <!-- Main Heart Shape -->
            <path class="heart-shape" d="M50,90 C20,70 0,50 0,30 C0,10 20,0 40,10 L50,20 L60,10 C80,0 100,10 100,30 C100,50 80,70 50,90 Z" />
            
            <!-- Mechanical Valves -->
            <rect class="valve valve-left" x="30" y="25" width="15" height="10" />
            <rect class="valve valve-right" x="55" y="25" width="15" height="10" />
            
            <!-- Digital ECG Display inside -->
            <path class="ecg-line" d="M30,50 L40,50 L45,40 L50,60 L55,50 L70,50" />
        </svg>
    </div>
</body>
</html>